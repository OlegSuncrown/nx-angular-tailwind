<ng-container *ngIf="vm$ | async as vm">
  <div class="bg-quiz-700 p-5 rounded-md flex items-center">
    <!-- <img [src]="URL + imageUrl" alt=""> -->
    <div
      [ngStyle]="{
        'background-image': levelIsCompleted
          ? 'url(' + URL + imageUrl + ')'
          : 'url(/assets/images/unknown-song.png)'
      }"
      class="w-20 h-20 mr-4 bg-cover bg-center bg-no-repeat flex items-center justify-center justify-items-center"
    >
      <nx-play-button
        [ngClass]="{ 'blur-sm animate-pulse pointer-events-none': !vm.canplay }"
        [isPlaying]="vm.playing"
        (togglePlay)="togglePlay($event)"
      ></nx-play-button>
    </div>
    <div class="relative flex-1">
      <nx-audio-slider
        (emitValue)="onChange($event)"
        [max]="vm.duration"
        [value]="vm.currentTime"
        class="flex-1"
        [ngClass]="{ 'blur-sm animate-pulse pointer-events-none': !vm.canplay }"
      ></nx-audio-slider>
      <div
        [ngClass]="{ 'blur-sm animate-pulse pointer-events-none': !vm.canplay }"
        class="absolute text-xs text-gray-300 font-thin flex justify-between w-full top-3"
      >
        <span>{{ vm.readableCurrentTime }}</span> <span>{{ vm.readableDuration }}</span>
      </div>
    </div>
  </div>
</ng-container>
